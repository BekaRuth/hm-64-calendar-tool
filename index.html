
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HM 64 Calendar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script type="text/javascript">

        var dateNumber = 3;
        var currentSeason = "Spring";
        var currentYear = 1;
        var dayOfWeek = 'Wednesday';
        var totalDays = 0;
        var dateString = dayOfWeek + ", " + currentSeason + " " + dateNumber + ", Year " + currentYear;

        var trackedNPCs = [];
        //TODO: Consider order of NPC dropdown. Alphabetical? Importance? Maria first?
        var npcList = ["Ann", "Elli", "Karen", "Maria", "Popuri", "Rick", "Cliff", "Gray", "Harris", "Jeff", "Kai", "Kent", "Stu", "Pastor", "Basil", "Lillia", "Doug", "Mayor", "MayorsWife", "PotionShopDealer", "May"];
        var npcInfo = getNPCS();
        var festivalInfo = getFestivals();

        function onLoad() {
            // Creating Dropdown          
            for (var i = 0; i < npcList.length; i++) {
                $("#dropdownList").append("<li id='"+npcList[i]+"Dropdown'><a class='dropdown-item'><img src='"+getImage(npcList[i])+"' class='img-fluid' style='width:20px; height:20px'>"+npcList[i]+"</a></li>")
            }

            $("#dropdownList li").click(function() {
                var npcClicked = $(this).attr("id");
                npcClicked = npcClicked.replace("Dropdown","");

                addNPCToList(npcClicked, true);
            });

            updateDateText();
        }

        function addDay() {
            totalDays++;
            dateNumber++;
            if (dateNumber > 30) {
                dateNumber = 1;
                this.advanceSeason();
            }
            this.setDayOfWeek();

            this.updateDateText();
            this.updateScheduleText();
            this.updateFestivalText();
        }

        function removeDay() {
            totalDays--;
            dateNumber--;
            if (dateNumber < 1) {
                dateNumber = 30;
                this.backSeason();
            }
            this.setDayOfWeek();

            this.updateDateText();
            this.updateScheduleText();
            this.updateFestivalText();
        }

        function updateScheduleText() {
            $("#npcScheduleList li").remove();
            for (var i = 0; i < trackedNPCs.length; i++) {
                var npcScheduleText = getSchedule(trackedNPCs[i]);
                addNPCToList(trackedNPCs[i], false);
            }
        }

        function updateDateText() {
            this.dateString = this.dayOfWeek + ", " + this.currentSeason + " " + this.dateNumber + ", Year " + this.currentYear;
            document.getElementById("dateDisplay").innerHTML = dateString;
        }

        //TODO: Bug: Schedule Text not crossed out when adding NPC to list during festival day where shops are closed and npcs unavailable
        function updateFestivalText() {
            $("#festivalAlert").remove();
            $("#festivalAlert").remove(); // Called twice because of Fall 27 Year 1 Instance multiple alerts. TODO:Fall 27 Year 1 Bug
            $("#npcScheduleList li").css("text-decoration","none");

            for (const key in festivalInfo) {
                var festival = festivalInfo[key]
                if ((festival.season == this.currentSeason) && (festival.day == this.dateNumber)) {
                    var festivalString =  key + ": " + festival.text
                
                    if (festival.hasOwnProperty("year")) {
                        if (festival.year == this.currentYear) { //Happens on specific year
                            $("#festivalAlertBox").append('<div id="festivalAlert" class="alert" role="alert"><h4>'+festivalString+'</h4></div>');
                            $("#festivalAlert").addClass(festival.color);
                            if (festival.hasOwnProperty("shopsClosed")) { //Crosses out text for npc schedules if shops are closed for festival
                                $("#npcScheduleList li").css("text-decoration","line-through");
                            }
                        }
                    } else { //Happens yearly
                        $("#festivalAlertBox").append('<div id="festivalAlert" class="alert" role="alert"><h4>'+festivalString+'</h4></div>');
                        $("#festivalAlert").addClass(festival.color);
                        if (festival.hasOwnProperty("shopsClosed")) {
                            $("#npcScheduleList li").css("text-decoration","line-through");
                        }
                    }
                }
            }
        }

        function advanceSeason() {
            switch (this.currentSeason) {
            case ('Spring'):
                this.currentSeason = 'Summer';
                break;
            case ('Summer'):
                this.currentSeason = 'Fall';
                break;
            case ('Fall'):
                this.currentSeason = 'Winter';
                break;
            case ('Winter'):
                this.currentSeason = 'Spring';
                this.currentYear++; // Need to increase the year at the end of winter
                break;
            }
        }

        function backSeason() {
            switch (this.currentSeason) {
            case ('Spring'):
                this.currentSeason = 'Winter';
                this.currentYear--;
                break;
            case ('Summer'):
                this.currentSeason = 'Spring';
                break;
            case ('Fall'):
                this.currentSeason = 'Summer';
                break;
            case ('Winter'):
                this.currentSeason = 'Fall';
                break;
            }
        }

        // Sets the day of the week based off of total days played
        function setDayOfWeek() {
        let day = this.totalDays % 7;
            switch (day) {
                case (0):
                    this.dayOfWeek = 'Wednesday';
                    break;
                case (1):
                    this.dayOfWeek = 'Thursday';
                    break;
                case (2):
                    this.dayOfWeek = 'Friday';
                    break;
                case (3):
                    this.dayOfWeek = 'Saturday';
                    break;
                case (4):
                    this.dayOfWeek = 'Sunday';
                    break;
                case (5):
                    this.dayOfWeek = 'Monday';
                    break;
                case (6):
                    this.dayOfWeek = 'Tuesday';
                    break;
            }
        }

        //Returns text of single schedule block for an npc. Checks for specific seasonal or day requirements.
        function getSchedule(name) {

            var npcData = npcInfo[name];
            var scheduleString = "Unavailable";

            for(var i = 0; i < npcData.schedule_blocks.length; i++) {
                if(npcData.schedule_blocks[i].weekDays.includes(dayOfWeek)) {
                    if(npcData.schedule_blocks[i].hasOwnProperty("seasons")) {
                        if(npcData.schedule_blocks[i].seasons.includes(currentSeason)) {
                            if(npcData.schedule_blocks[i].hasOwnProperty("days")){
                                if(npcData.schedule_blocks[i].days.includes(dateNumber)) {
                                    scheduleString = npcData.schedule_blocks[i].text; //Seasonal and specific day of month. Eg Maria 1-10 Summer and Winter
                                }
                            }
                            else {
                                scheduleString = npcData.schedule_blocks[i].text; //Seasonal
                            }
                        }
                    } else {
                        scheduleString = npcData.schedule_blocks[i].text; //No seasonal requirements
                    }
                }
            }

            return scheduleString;
        }
        
        function getImage(name) {
            var npcData = npcInfo[name];
            return npcData.img;

        }

        function addNPCToList(npcName, pushToTrackedNPCs) {
            if(trackedNPCs.includes(npcName) && pushToTrackedNPCs) return false;

            $("#npcScheduleList").append('<li class="list-group-item d-flex justify-content-between align-items-center" id="'+npcName+'ScheduleItem"><img src="'+getImage(npcName)+'"class="img-fluid" style="width:35px; height:35px"><span style="width:100%; text-align:left; margin-left:15px; font-size:1em">'+npcName+': '+ getSchedule(npcName) +'</span><span type="button" class="badge bg-danger" onclick="removeNPC(\''+ npcName + '\')">-</span></li>');
            if(pushToTrackedNPCs) {
                trackedNPCs.push(npcName);
            }
            var dropdownString = "#" + npcName + "Dropdown"
            $(dropdownString + " a").addClass("disabled");
        }

        function removeNPC(npcName) {
            trackedNPCs = trackedNPCs.filter(i => i !== npcName);
            $('#'+npcName+'ScheduleItem').remove()

            var dropdownString = "#" + npcName + "Dropdown"
            $(dropdownString + " a").removeClass("disabled");
        }

        //Start NPC Data
        function getNPCS() {
            return {
                "Ann" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Sunday",
                            "text" : "8am - 5pm 50% Goddess Pond, 50% Green Ranch. Rain: Green Ranch Barn near back"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Friday, Saturday",
                            "text" : "8am - 5pm Green Ranch / work. Rain: 8am-5pm Green Ranch Barn"
                        },
                        {
                            "weekDays" : "Thursday",
                            "text" : "9am - 5pm 25% Fisherman Tent, 25% Carpenter House, 25% Vineyard, 25% 10am-5pm Tool Shop. Rain: Unavailable"
                        }
                    ],
                    "img" : 'assets/Ann.png'
                },
                "Elli" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Wednesday",
                            "text" : "9am - 12pm Flower Shop, 12:00pm - 5pm Outside Bakery. Rain: 9am - 12pm Flower Shop, 12:00pm - 5pm Bakery"
                        },
                        {
                            "weekDays" : "Tuesday, Thursday, Friday, Saturday",
                            "text" : "9am - 5pm Bakery"
                        },
                        {
                            "weekDays" : "Monday",
                            "seasons" : "Spring, Fall Winter",
                            "text" : "8am - 5pm Carpenter House, Fisherman Tent. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Monday",
                            "seasons" : "Summer",
                            "text" : "8am - 5pm Beach Dock. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "Unavailable"
                        }
                    ],
                    "img" : 'assets/Elli.png'
                },
                "Karen" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Thursday",
                            "text" : "9am - 5pm Vineyard, 6pm - 12am Bar. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "10am - 6pm Beach. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Friday, Saturday",
                            "text" : "10am - 5pm 25% Carpenter House, 25% Beach Dock, 50% Unavailable, 6pm - 12am Bar. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Wednesday",
                            "text" : "10am - 5pm 25% Carpenter House, 25% Beach Dock, 50% Unavailable. Rain: Unavailable"
                        }
                    ],
                    "img" : 'assets/Karen.png'
                },
                "Maria" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
                            "text" : "9am - 5pm Library"
                        },
                        {
                            "weekDays" : "Monday",
                            "text" : "50% 8am - 3pm Outside Church, 50% 10am - 5pm Fisherman. Rain: 9am-5pm Home"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
                            "seasons" : "Summer",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
                            "text" : "9am - 5pm 50% Outside Church, %50 Fisherman Tent"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
                            "seasons" : "Winter",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
                            "text" : "9am - 5pm 50% Home, 50% Church Organ"
                        }
                    ],
                    "img" : 'assets/Maria.png'
                },
                "Popuri" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday",
                            "text" : "9am - 5pm Outside Flower Shop. Rain: In Flower Shop"
                        },
                        {
                            "weekDays" : "Friday",
                            "text" : "9am - 5pm Carpenter House, Mountain Summit. Rain: In Flower Shop"
                        },
                        {
                            "weekDays" : "Saturday",
                            "text" : "9am - 5pm Carpenter House, Mountain Summit. Rain: In Flower Shop"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 5pm 50% Bakery, 50% Green Ranch. Rain: Bakery"
                        }
                    ],
                    "img" : 'assets/Popuri.png'
                },
                "Rick" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Thursday, Friday",
                            "text" : "10am - 6pm Tool Shop. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Saturday",
                            "text" : "10am - 6pm 50% Outside Saibara House. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "10am - 6pm 50% Town Square Fountain. Rain Unavailable"
                        }
                    ],
                    "img" : 'assets/Rick.png'
                },
                "Cliff" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday",
                            "text" : "9am - 5pm. Hot Springs. Rain: 50% Inside Carpenter House. 6pm - 12am. 25% Bar"
                        },
                        {
                            "weekDays" : "Tuesday",
                            "text" : "9am - 5pm. Beach. Rain: 50% Inside Carpenter House. 6pm - 12am. 25% Bar"
                        },
                        {
                            "weekDays" : "Wednesday",
                            "text" : "9am - 5pm. Green Ranch. Rain: 50% Inside Carpenter House. 6pm - 12am. 25% Bar"
                        },
                        {
                            "weekDays" : "Thursday",
                            "text" : "9am - 5pm. Carpenter House. Rain: 50% Inside Carpenter House. 6pm - 12am. 25% Bar"
                        },
                        {
                            "weekDays" : "Friday, Saturday",
                            "text" : "9am - 5pm. 50% Fisherman, 50% Unavailable. Rain: 50% Inside Carpenter House. 6pm - 12am. 25% Bar"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 5pm. 50% Carpenter, 50% Unavailable. Rain: 50% Inside Carpenter House 6pm - 12am"
                        }
                    ],
                    "img" : 'assets/Cliff.png'
                },
                "Gray" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Friday, Saturday",
                            "text" : "8am - 12pm. Inside Barn. 12pm - 6pm. Green Ranch. Rain: Inside Barn. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "8am - 12pm. Inside Barn. 12pm - 6pm. Green Ranch. Rain: Inside Barn"
                        },
                        {
                            "weekDays" : "Thursday",
                            "text" : "8am - 1pm. Carpenter House. Rain: Unavailable. 6pm - 12am. 50% Bar"
                        }
                    ],
                    "img" : 'assets/Gray.png'
                },
                "Harris" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday",
                            "text" : "9am - 12pm. 50% Outside Church, 50% Outside Midwife House. 12pm - 6pm. 50% Fisherman Tent, 25% Crossroads, 25% Green Ranch. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "12pm - 5pm. Library"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
                            "seasons" : "Summer",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
                            "text" : "Unavailable"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
                            "seasons" : "Winter",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
                            "text" : "Unavailable"
                        }
                    ],
                    "img" : 'assets/Harris.png'
                },
                "Jeff" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday",
                            "text" : "8am - 5pm. 50% Fisherman Tent, fishing in river. 50% Unavailable. Rain: Unavailable."
                        },
                        {
                            "weekDays" : "Tuesday, Wednesday, Thursday, Friday, Saturday",
                            "text" : "9am - 5pm. Bakery. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 5pm. Bakery"
                        }
                    ],
                    "img" : 'assets/Jeff.png'
                },
                "Kai" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday",
                            "text" : "9am - 5pm. Vineyard, just outside the house. Rain: Vineyard Cellar. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 5pm. Vineyard, just outside the house. Rain: Vineyard Cellar"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday",
                            "seasons" : "Winter",
                            "text" : "9am - 5pm. Vineyard Cellar Basement. Snow: Vineyard Cellar. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Sunday",
                            "seasons" : "Winter",
                            "text" : "9am - 5pm. Vineyard Cellar Basement. Snow: Vineyard Cellar"
                        }
                    ],
                    "img": 'assets/Kai.png'
                },
                "Kent" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday",
                            "text" : "8am - 3pm. Inside Church. 3pm - 5pm. North Village Streets, south edge. Rain: Potion Shop"
                        },
                        {
                            "weekDays" : "Saturday",
                            "text" : "9am - 3pm. 50% Town Square, 50% Fisherman Tent. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "seasons" : "Spring, Fall",
                            "text" : "9am - 4pm. 50% Carpenter House, 50% Inside Library. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "seasons" : "Summer",
                            "text" : "8am - 4pm. 50% Beach, 50% Carpenter House. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "seasons" : "Winter",
                            "text" : "8am - 4pm. 50% Carpenter House, 50% Unavailable. Rain: Unavailable"
                        }
                    ],
                    "img": 'assets/Kent.png'
                },
                "Stu" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday",
                            "text" : "8am - 3pm. Inside Church. 3pm - 5pm. North Village Streets, south edge. Rain: Potion Shop"
                        },
                        {
                            "weekDays" : "Saturday",
                            "text" : "9am - 3pm. 50% Town Square, 50% Fisherman Tent. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "seasons" : "Spring, Fall",
                            "text" : "9am - 4pm. 50% Carpenter House, 50% Inside Library. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "seasons" : "Summer",
                            "text" : "8am - 4pm. 50% Beach, 50% Carpenter House. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "seasons" : "Winter",
                            "text" : "Unavailable"
                        }
                    ],
                    "img" : 'assets/Stu.png'
                },
                "Pastor" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Sunday",
                            "text" : "8am - 5pm. Inside Church"
                        },
                        {
                            "weekDays" : "Saturday",
                            "text" : "8am - 5pm. Outside Church. Rain: Inside Church"
                        }
                    ],
                    "img" : 'assets/Pastor.png'
                },
                "Basil" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday",
                            "text" : "9am - 5pm. Flower Shop. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Thursday",
                            "text" : "9am - 5pm. Behind Flower Shop. Rain: Flower Shop. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Friday, Saturday",
                            "text" : "8am - 6pm. Fisherman Tent. Rain: Flower Shop. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 5pm. Town Square"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
                            "seasons" : "Fall",
                            "days" : "4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30",
                            "text" : "Out of Town"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
                            "seasons" : "Winter",
                            "text" : "Out of Town"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday",
                            "seasons" : "Spring",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15",
                            "text" : "Out of Town"
                        },
                    ],
                    "img" : 'assets/Basil.png'
                },
                "Lillia" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday, Saturday",
                            "text" : "9am - 5pm. Flower Shop"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 5pm. Town Square. Rain: Unavailable "
                        }
                    ],
                    "img" : 'assets/Lillia.png'
                },
                "Doug" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Friday, Saturday",
                            "text" : "8am - 5pm. Green Ranch Shop. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Thursday",
                            "text" : "Unavailable. 6pm - 12am. 50% Bar"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "8am - 5pm. Green Ranch Shop"
                        }
                    ],
                    "img" : 'assets/Doug.png'
                },
                "Mayor" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday",
                            "text" : "8am - 5pm. 50% Near Church, 50% Near Library. Rain: In his house"
                        },
                        {
                            "weekDays" : "Friday",
                            "text" : "8am - 5pm. 50% Near Church, 50% Near Library. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Saturday",
                            "text" : "8am - 5pm. 50% Near Tool Shop, 50% Inside Library. Rain: In his house"
                        },
                        {
                            "weekDays" : "Saturday",
                            "seasons" : "Summer, Winter",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
                            "text" : "8am - 5pm. 50% Near Tool Shop, 50% Unavailable. Rain: In his house"
                        },
                        {
                            "weekDays" : "Sunday", 
                            "text" : "9am - 3pm. Inside Church. Rain: Unavailable"
                        }
                    ],
                    "img" : 'assets/Mayor.png'
                },
                "MayorsWife" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Saturday",
                            "text" : "8am - 5pm. In her house"
                        },
                        {
                            "weekDays" : "Friday",
                            "text" : "12pm - 5pm. Bakery"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 3pm. In the church."
                        }
                    ],
                    "img" : 'assets/MayorsWife.png'
                },
                "PotionShopDealer" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday",
                            "text" : "9am - 5pm. Potion Shop"
                        },
                        {
                            "weekDays" : "Saturday",
                            "text" : "9am - 5pm. 50% Carpenter House, 50% Mountain Cave. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 4pm. 50% Carpenter House, 50% Unavailable. Rain: Unavailable"
                        }
                    ],
                    "img" : 'assets/PotionShopDealer.png'
                },
                "May" : {
                    "schedule_blocks" : [
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday",
                            "text" : "8am - 3pm. In the Church. Rain: Inside Library"
                        },
                        {
                            "weekDays" : "Saturday",
                            "text" : "9am - 3pm. Outside Midwife’s House. Rain: Inside Library"
                        },
                        {
                            "weekDays" : "Sunday",
                            "text" : "9am - 3pm. 50% Town Square, 50% Carpenter House. Rain: Inside Library"
                        },
                        {
                            "weekDays" : "Monday, Tuesday, Wednesday, Thursday, Friday",
                            "seasons" : "Summer, Winter",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
                            "text" : "8am - 3pm. In the Church. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Saturday",
                            "seasons" : "Summer, Winter",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
                            "text" : "9am - 3pm. Outside Midwife’s House. Rain: Unavailable"
                        },
                        {
                            "weekDays" : "Sunday",
                            "seasons" : "Summer, Winter",
                            "days" : "1, 2, 3, 4, 5, 6, 7, 8, 9, 10",
                            "text" : "9am - 3pm. 50% Town Square, 50% Carpenter House. Rain: Unavailable"
                        }
                    ],
                    "img": 'assets/May.png'
                }
            }
        } 
        //End NPC Data

        //TODO: Ellen, Carpenter 1, Carpenter 2, Head Carpenter, Barley, Midwife, Shipper, Sprite 1, Sprite 2&3
        //TODO: Schedule Blocks for NPCs on Festival Days. Crossing out text on festival days for now.

        //Start Festival Data
        function getFestivals()  {
            return {
                "Spring Years Day" : {
                    "season" : "Spring",
                    "day" : "1",
                    "text" : "Town Square before 6pm. Shops Closed.",
                    "shopsClosed": "true",
                    "color" : "alert-danger"
                },
                "Planting Festival" : {
                    "season" : "Spring",
                    "day" : "8",
                    "text" : "Town Square before 6pm. Shops Closed.",
                    "shopsClosed": "true",
                    "color" : "alert-danger"
                },
                "Spring Horse Race Tomorrow" : {
                    "season" : "Spring",
                    "day" : "16",
                    "text" : "Doug will come to your farm to ask if you would like to enter your horse in tomorrow's festival.",
                    "color" : "alert-warning"
                },
                "Spring Horse Race" : {
                    "season" : "Spring",
                    "day" : "17",
                    "text" : "8am Town Square. Shops Closed.",
                    "shopsClosed": "true",
                    "color" : "alert-danger"
                },
                "Flower Festival Voting Day 1" : {
                    "season" : "Spring",
                    "day" : "19",
                    "text" : "You may vote for the next Harvest Goddess at Town Square.",
                    "color" : "alert-warning"
                },
                "Flower Festival Voting Day 2" : {
                    "season" : "Spring",
                    "day" : "20",
                    "text" : "You may vote for the next Harvest Goddess at Town Square.",
                    "color" : "alert-warning"
                },
                "Flower Festival Voting Day 3" : {
                    "season" : "Spring",
                    "day" : "21",
                    "text" : "You may vote for the next Harvest Goddess at Town Square.",
                    "color" : "alert-warning"
                },
                "Flower Festival Voting Last Day" : {
                    "season" : "Spring",
                    "day" : "22",
                    "text" : "You may vote for the next Harvest Goddess at Town Square.",
                    "color" : "alert-warning"
                },
                "Flower Festival" : {
                    "season" : "Spring",
                    "day" : "23",
                    "text" : "Town Square before 6pm. Shops Closed.",
                    "shopsClosed": "true",
                    "color" : "alert-danger"
                    
                },
                "Fireworks Festival" : {
                    "season" : "Summer",
                    "day" : "1",
                    "text" : "7pm. Beach, Green Ranch, Mountain, Bakery, or Town Square. Shops Open.",
                    "color" : "alert-danger"
                },
                "Vegetable Festival" : {
                    "season" : "Summer",
                    "day" : "9",
                    "text" : "Town Square before 6pm. Shops Closed.",
                    "shopsClosed": "true",
                    "color" : "alert-danger"
                },
                "Firefly Festival" : {
                    "season" : "Summer",
                    "day" : "17",
                    "text" : "6pm Beach. Shops Open.",
                    "color" : "alert-danger"
                },
                "Swimming Festival" : {
                    "season" : "Summer",
                    "day" : "24",
                    "text" : "Town Square before 6pm. Shops Closed.",
                    "shopsClosed": "true",
                    "color" : "alert-danger"
                },
                "Cow Festival Tomorrow" : {
                    "season" : "Fall",
                    "day" : "3",
                    "text" : "Doug will come to your farm to ask if you would like to enter a cow in tomorrow's festival.",
                    "color" : "alert-warning"
                },
                "Cow Festival" : {
                    "season" : "Fall",
                    "day" : "4",
                    "text" : "Green Ranch before 6pm. Shops Closed.",
                    "shopsClosed" : "true",
                    "color" : "alert-danger"
                },
                "Harvest Festival" : {
                    "season" : "Fall",
                    "day" : "12",
                    "text" : "Town Square before 6pm. Shops Closed.",
                    "shopsClosed" : "true",
                    "color" : "alert-danger"
                },
                "Egg Festival" : {
                    "season" : "Fall",
                    "day" : "20",
                    "text" : "Town Square before 6pm. Shops Closed.",
                    "shopsClosed" : "true",
                    "color" : "alert-danger"
                },
                "Bridge Work Day 1" : {
                    "season" : "Fall",
                    "day" : "23",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Bridge Work Day 2" : {
                    "season" : "Fall",
                    "day" : "24",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Bridge Work Day 3" : {
                    "season" : "Fall",
                    "day" : "25",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Bridge Work Day 4" : {
                    "season" : "Fall",
                    "day" : "26",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Bridge Work Day 5" : {
                    "season" : "Fall",
                    "day" : "27",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Fall Horse Race Tomorrow" : {
                    "season" : "Fall",
                    "day" : "27",
                    "text" : "Doug will come to your farm to ask if you would like to enter your horse in tomorrow's festival.",
                    "color" : "alert-warning"
                },
                "Fall Horse Race" : {
                    "season" : "Fall",
                    "day" : "28",
                    "text" : "8am Town Square. Shops Closed.",
                    "shopsClosed" : "true",
                    "color" : "alert-danger"
                },
                "Thanksgiving" : {
                    "season" : "Winter",
                    "day" : "10",
                    "text" : "8am-5pm Girls will stop by your farm to give you cake.",
                    "color" : "alert-warning"
                },
                "Hot Springs Work Day 1" : {
                    "season" : "Winter",
                    "day" : "12",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Hot Springs Work Day 2" : {
                    "season" : "Winter",
                    "day" : "13",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Hot Springs Work Day 3" : {
                    "season" : "Winter",
                    "day" : "14",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Hot Springs Work Day 4" : {
                    "season" : "Winter",
                    "day" : "15",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Hot Springs Work Day 5" : {
                    "season" : "Winter",
                    "day" : "16",
                    "text" : "Begin 6am-2:59pm at Fisherman's Tent screen. Earn 1000G.",
                    "year" : "1",
                    "color" : "alert-warning"
                },
                "Dog Race Tomorrow" : {
                    "season" : "Winter",
                    "day" : "18",
                    "text" : "Doug will come to your farm to ask if you would like to enter your dog in tomorrow's festival.",
                    "color" : "alert-warning"
                },
                "Dog Race" : {
                    "season" : "Winter",
                    "day" : "19",
                    "text" : "8am-4pm Town Square. Shops Closed.",
                    "shopsClosed" : "true",
                    "color" : "alert-danger"
                },
                "Spirit Festival" : {
                    "season" : "Winter",
                    "day" : "27",
                    "text" : "6pm Town Square. Shops Open.",
                    "color" : "alert-danger"
                },
                "New Years Eve" : {
                    "season" : "Winter",
                    "day" : "30",
                    "text" : "6:00pm - 11:59pm Bar or Church. Shops Open",
                    "color" : "alert-danger"
                }
            } //TODO: Photo Events/Important dates as well?
        }
        //End Festival Data
        
    </script>
    </head>

  <body onload="onLoad()">
    <nav class="navbar fixed-top navbar-light bg-light">
        <div class="container-fluid">
            <div class="container">
                <div class="row">
                    <div class="col dropdown">
                        <button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                        + Add NPC
                        </button>
                        <ul id="dropdownList" class="dropdown-menu" style=" overflow-y:scroll; max-height: 50vh;" aria-labelledby="dropdownMenuButton1">
                            <!-- Dropdown generated in onLoad() -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
      </nav>

    <br>

    <div class="container"style="margin-top:30px">
        <div id="festivalAlertBox">
            <!-- Festivals generated in updateFestivalText() -->
        </div>
    </div>
    <div class="container" style=" margin-bottom: 150px;">
        <ul id="npcScheduleList" class="list-group">
              <!-- List items generated in addNPCToList() -->
        </ul>
    </div>

    <nav class="navbar fixed-bottom navbar-light bg-light">
        <div class="container-fluid" style="justify-content: center;">
            <!-- TODO: Ability to select/enter specific date -->
            <div class="container">
                <h1 id="dateDisplay" style="text-align:center; white-space:nowrap; font-size:1.8em"></h1>
            </div>
            <div class="row" style="width:100%">
                <div class="col">
                    <button onclick="removeDay()" type="button" class="btn btn-dark btn-lg" style="width:100%; height:80px"><</button>
                </div>
                <div class="col">
                    <button onclick="addDay()" type="button" class="btn btn-dark btn-lg" style="width:100%; height:80px">></button>
                </div>
            </div>
        </div>
      </nav>
  </body>
</html>

